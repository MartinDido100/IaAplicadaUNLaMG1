<div class="login-wrapper">
    <app-logo [width]="3.6" [height]="3.6" [backgroundColor]="'var(--third-color)'" [color]="'var(--secondary-color)'"></app-logo>
    <h3>Registrar una cuenta de MindFlix</h3>
    <form class="login-form" [formGroup]="registerForm" (ngSubmit)="register()" autocomplete="off">
        <div class="form-group">
            <label for="username">Nombre de usuario* :</label>
            <input type="username" id="username" name="username" formControlName="username">
            @if(authService.getFormError('username','required', registerForm, submitted())){
                <span class="formGroup-error">El nombre de usuario es obligatorio</span>
            }
        </div>
        <div class="form-group">
            <label for="email">Correo electrónico* :</label>
            <input type="email" id="email" name="email" formControlName="email">
            @if(authService.getFormError('email','required', registerForm, submitted())){
                <span class="formGroup-error">El correo electrónico es obligatorio</span>
            }
        </div>
        <div class="form-group">
            <label for="password">Contraseña* :</label>
            <input type="password" id="password" name="password" formControlName="password">

            @if(authService.getFormError('password','required', registerForm, submitted())){
                <span class="formGroup-error">La contraseña es obligatoria</span>
            }

            @if(authService.getFormError('password','minlength', registerForm, submitted())){
                <span class="formGroup-error">La contraseña debe tener al menos 6 caracteres</span>
            }
        </div>
        @if(loading()){
            <app-spinner [height]="30" [width]="30"></app-spinner>
        }@else{
            <button type="submit">Registrar</button>
        }
    </form>
    @if(errorMessage()){
        <span class="error-msg">{{ errorMessage() }}</span>
    }
</div>